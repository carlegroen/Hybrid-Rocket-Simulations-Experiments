% !TEX root = main.tex
%%%% Colour Palette %%%%%
\definecolor{black1}{RGB}{0,0,0}
\definecolor{orange1}{RGB}{230,159,0}
\definecolor{skyblue}{RGB}{86,180,233}
\definecolor{blueishgreen}{RGB}{0,158,115}
\definecolor{yellow}{RGB}{240,228,66}
\definecolor{blue1}{RGB}{0,114,178}
\definecolor{vermillion}{RGB}{213,94,0}
\definecolor{reddishpurple}{RGB}{204,121,167}
%%%%%% Block Styles %%%%%%%%%%%%%%%%%%%%%%%%%%%%
\tikzstyle{decision} = [diamond, draw, fill=blueishgreen,
    text width=4.5em, text badly centered, node distance=3cm, inner sep=0pt]
\tikzstyle{block} = [rectangle, draw, fill=skyblue,
    text width=5em, text centered, rounded corners, minimum height=4em]
\tikzstyle{line} = [draw, -latex']
\tikzstyle{cloud} = [draw, ellipse,fill=yellow, text width=4em, node distance=3cm,
    minimum height=2em]
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\chapter{Simulation}

The rocket's simulation can be explained relatively simply through a series of flowcharts. The first one describes how all constants and flows are defined, and how reference values are calculated.
% \begin{tikzpicture}[node distance = 2cm, auto]
%   \node [block] (constants) {Define Constants};
%   \node [block, below of=constants] (def) {Define injection rates per second};
%   %Draw lines
%   \path [line] (constants) -- (def);
% \end{tikzpicture}

\begin{tikzpicture}[node distance = 3cm, auto]
    % Place nodes
    \node [block] (const) {Define constants};
      \node [cloud, left of=const] (constvars) {$P_{amb}$, $T_{amb}$, chamber dim, etc.};
    \node [block, below of=const] (inj) {Define injection rates per second};
      \node [cloud, left of=inj] (injvars) {P, T, V};
    \node [block, below of=inj] (dec) {Define decomposition rates per second};
      \node [cloud, left of=dec] (decvars) {P, T, V};
    \node [block, below of=dec] (com) {Define combustion rates per second};
      \node [cloud, left of=com] (comvars) {P, T, V};
    \node [block, below of=com] (exha) {Define exhaustion mass flow};
      \node [cloud, left of=exha] (exhavars) {P, T, V};
    % Draw edges
    \path [line] (const) -- (inj);
    \path [line] (const) -- (constvars);
    \path [line] (inj) -- (dec);
    \path [line] (inj) -- (injvars);
    \path [line] (dec) -- (com);
    \path [line] (dec) -- (decvars);
    \path [line] (com) -- (exha);
    \path [line] (com) -- (comvars);
    \path [line] (exha) -- (exhavars);
\end{tikzpicture}
%
% \begin{tikzpicture}[node distance = 2cm, auto]
%     % Place nodes
%     \node [block] (init) {initialize model};
%     \node [cloud, left of=init] (expert) {expert};
%     \node [cloud, right of=init] (system) {system};
%     \node [block, below of=init] (identify) {identify candidate models};
%     \node [block, below of=identify] (evaluate) {evaluate candidate models};
%     \node [block, left of=evaluate, node distance=3cm] (update) {update model};
%     \node [decision, below of=evaluate] (decide) {is best candidate better?};
%     \node [block, below of=decide, node distance=3cm] (stop) {stop};
%     % Draw edges
%     \path [line] (init) -- (identify);
%     \path [line] (identify) -- (evaluate);
%     \path [line] (evaluate) -- (decide);
%     \path [line] (decide) -| node [near start] {yes} (update);
%     \path [line] (update) |- (identify);
%     \path [line] (decide) -- node {no}(stop);
%     \path [line,dashed] (expert) -- (init);
%     \path [line,dashed] (system) -- (init);
%     \path [line,dashed] (system) |- (evaluate);
% \end{tikzpicture}
